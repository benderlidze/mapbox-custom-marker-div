<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Add a default marker to a web map</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">

    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }

        .text-container {
            font-family: "IBM Plex Mono", monospace;
            background-color: rgba(0, 0, 0, 0.8);
            width: fit-content;
            padding: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            color: white;
            margin: 20px;
        }

        .text-container div {
            width: 100%;
        }

        .marker-container {
            width: fit-content;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script>

        const lines = {
            "type": "FeatureCollection", "features": [
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99989708894583, 74.99847158476868], [179.99664147371135, 74.99847158476868], [164.99678185451074, 74.99847158476868], [149.99692223531014, 74.99847158476868], [134.99706261610953, 74.99847158476868], [119.99720299690892, 74.99847158476868], [104.9973433777082, 74.99847158476868], [89.99748375850754, 74.99847158476868], [74.99762413930694, 74.99847158476868], [59.99776452010633, 74.99847158476868], [44.99790490090572, 74.99847158476868], [29.998045281705117, 74.99847158476868], [14.998185662504426, 74.99847158476868], [-0.001673956696180312, 74.99847158476868], [-15.001533575896786, 74.99847158476868], [-30.001393195097478, 74.99847158476868], [-45.001252814298084, 74.99847158476868], [-60.00111243349869, 74.99847158476868], [-75.0009720526993, 74.99847158476868], [-90.0008316718999, 74.99847158476868], [-105.00069129110061, 74.99847158476868], [-120.00055091030121, 74.99847158476868], [-135.00041052950183, 74.99847158476868], [-150.0002701487025, 74.99847158476868], [-165.0001297679031, 74.99847158476868], [-179.9999893871037, 74.99847158476868]] }, "properties": { "degrees": 75, "direction": "N", "display": "75 N", "scalerank": 3, "dd": 75 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[180.00000000000006, 59.998663642000366], [179.99664147371135, 59.998663642000366], [164.99678185451074, 59.998663642000366], [149.99692223531014, 59.998663642000366], [134.99706261610953, 59.998663642000366], [119.99720299690892, 59.998663642000366], [104.9973433777082, 59.998663642000366], [89.99748375850754, 59.998663642000366], [74.99762413930694, 59.998663642000366], [59.99776452010633, 59.998663642000366], [44.99790490090572, 59.998663642000366], [29.998045281705117, 59.998663642000366], [14.998185662504426, 59.998663642000366], [-0.001673956696180312, 59.998663642000366], [-15.001533575896786, 59.998663642000366], [-30.001393195097478, 59.998663642000366], [-45.001252814298084, 59.998663642000366], [-60.00111243349869, 59.998663642000366], [-75.0009720526993, 59.998663642000366], [-90.0008316718999, 59.998663642000366], [-105.00069129110061, 59.998663642000366], [-120.00055091030121, 59.998663642000366], [-135.00041052950183, 59.998663642000366], [-150.0002701487025, 59.998663642000366], [-165.0001297679031, 59.998663642000366], [-179.9999893871037, 59.998663642000366]] }, "properties": { "degrees": 60, "direction": "N", "display": "60 N", "scalerank": 3, "dd": 60 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[180.00000000000006, 44.99875234636747], [179.99664147371135, 44.99875234636747], [164.99678185451074, 44.99875234636747], [149.99692223531014, 44.99875234636747], [134.99706261610953, 44.99875234636747], [119.99720299690892, 44.99875234636747], [104.9973433777082, 44.99875234636747], [89.99748375850754, 44.99875234636747], [74.99762413930694, 44.99875234636747], [59.99776452010633, 44.99875234636747], [44.99790490090572, 44.99875234636747], [29.998045281705117, 44.99875234636747], [14.998185662504426, 44.99875234636747], [-0.001673956696180312, 44.99875234636747], [-15.001533575896786, 44.99875234636747], [-30.001393195097478, 44.99875234636747], [-45.001252814298084, 44.99875234636747], [-60.00111243349869, 44.99875234636747], [-75.0009720526993, 44.99875234636747], [-90.0008316718999, 44.99875234636747], [-105.00069129110061, 44.99875234636747], [-120.00055091030121, 44.99875234636747], [-135.00041052950183, 44.99875234636747], [-150.0002701487025, 44.99875234636747], [-165.0001297679031, 44.99875234636747], [-179.9999893871037, 44.99875234636747]] }, "properties": { "degrees": 45, "direction": "N", "display": "45 N", "scalerank": 3, "dd": 45 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99989708894583, 29.99889272716686], [179.99664147371135, 29.99889272716686], [164.99678185451074, 29.99889272716686], [149.99692223531014, 29.99889272716686], [134.99706261610953, 29.99889272716686], [119.99720299690892, 29.99889272716686], [104.9973433777082, 29.99889272716686], [89.99748375850754, 29.99889272716686], [74.99762413930694, 29.99889272716686], [59.99776452010633, 29.99889272716686], [44.99790490090572, 29.99889272716686], [29.998045281705117, 29.99889272716686], [14.998185662504426, 29.99889272716686], [-0.001673956696180312, 29.99889272716686], [-15.001533575896786, 29.99889272716686], [-30.001393195097478, 29.99889272716686], [-45.001252814298084, 29.99889272716686], [-60.00111243349869, 29.99889272716686], [-75.0009720526993, 29.99889272716686], [-90.0008316718999, 29.99889272716686], [-105.00069129110061, 29.99889272716686], [-120.00055091030121, 29.99889272716686], [-135.00041052950183, 29.99889272716686], [-150.0002701487025, 29.99889272716686], [-165.0001297679031, 29.99889272716686], [-179.9999893871037, 29.99889272716686]] }, "properties": { "degrees": 30, "direction": "N", "display": "30 N", "scalerank": 3, "dd": 30 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99989708894583, 14.999084784398462], [179.99664147371135, 14.999084784398462], [164.99678185451074, 14.999084784398462], [149.99692223531014, 14.999084784398462], [134.99706261610953, 14.999084784398462], [119.99720299690892, 14.999084784398462], [104.9973433777082, 14.999084784398462], [89.99748375850754, 14.999084784398462], [74.99762413930694, 14.999084784398462], [59.99776452010633, 14.999084784398462], [44.99790490090572, 14.999084784398462], [29.998045281705117, 14.999084784398462], [14.998185662504426, 14.999084784398462], [-0.001673956696180312, 14.999084784398462], [-15.001533575896786, 14.999084784398462], [-30.001393195097478, 14.999084784398462], [-45.001252814298084, 14.999084784398462], [-60.00111243349869, 14.999084784398462], [-75.0009720526993, 14.999084784398462], [-90.0008316718999, 14.999084784398462], [-105.00069129110061, 14.999084784398462], [-120.00055091030121, 14.999084784398462], [-135.00041052950183, 14.999084784398462], [-150.0002701487025, 14.999084784398462], [-165.0001297679031, 14.999084784398462], [-179.9999893871037, 14.999084784398462]] }, "properties": { "degrees": 15, "direction": "N", "display": "15 N", "scalerank": 3, "dd": 15 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99989708894583, -0.0008265112344219006], [179.99664147371135, -0.0008265112344219006], [164.99678185451074, -0.0008265112344219006], [149.99692223531014, -0.0008265112344219006], [134.99706261610953, -0.0008265112344219006], [119.99720299690892, -0.0008265112344219006], [104.9973433777082, -0.0008265112344219006], [89.99748375850754, -0.0008265112344219006], [74.99762413930694, -0.0008265112344219006], [59.99776452010633, -0.0008265112344219006], [44.99790490090572, -0.0008265112344219006], [29.998045281705117, -0.0008265112344219006], [14.998185662504426, -0.0008265112344219006], [-0.001673956696180312, -0.0008265112344219006], [-15.001533575896786, -0.0008265112344219006], [-30.001393195097478, -0.0008265112344219006], [-45.001252814298084, -0.0008265112344219006], [-60.00111243349869, -0.0008265112344219006], [-75.0009720526993, -0.0008265112344219006], [-90.0008316718999, -0.0008265112344219006], [-105.00069129110061, -0.0008265112344219006], [-120.00055091030121, -0.0008265112344219006], [-135.00041052950183, -0.0008265112344219006], [-150.0002701487025, -0.0008265112344219006], [-165.0001297679031, -0.0008265112344219006], [-179.9999893871037, -0.0008265112344219006]] }, "properties": { "degrees": 0, "direction": "", "display": "0", "scalerank": 3, "dd": 0 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[180.00000000000006, -15.000582777570457], [179.99664147371135, -15.000582777570457], [164.99678185451074, -15.000582777570457], [149.99692223531014, -15.000582777570457], [134.99706261610953, -15.000582777570457], [119.99720299690892, -15.000582777570457], [104.9973433777082, -15.000582777570457], [89.99748375850754, -15.000582777570457], [74.99762413930694, -15.000582777570457], [59.99776452010633, -15.000582777570457], [44.99790490090572, -15.000582777570457], [29.998045281705117, -15.000582777570457], [14.998185662504426, -15.000582777570457], [-0.001673956696180312, -15.000582777570457], [-15.001533575896786, -15.000582777570457], [-30.001393195097478, -15.000582777570457], [-45.001252814298084, -15.000582777570457], [-60.00111243349869, -15.000582777570457], [-75.0009720526993, -15.000582777570457], [-90.0008316718999, -15.000582777570457], [-105.00069129110061, -15.000582777570457], [-120.00055091030121, -15.000582777570457], [-135.00041052950183, -15.000582777570457], [-150.0002701487025, -15.000582777570457], [-165.0001297679031, -15.000582777570457], [-179.9999893871037, -15.000582777570457]] }, "properties": { "degrees": 15, "direction": "S", "display": "15 S", "scalerank": 3, "dd": -15 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[180.00000000000006, -30.000494073203356], [179.99664147371135, -30.000494073203356], [164.99678185451074, -30.000494073203356], [149.99692223531014, -30.000494073203356], [134.99706261610953, -30.000494073203356], [119.99720299690892, -30.000494073203356], [104.9973433777082, -30.000494073203356], [89.99748375850754, -30.000494073203356], [74.99762413930694, -30.000494073203356], [59.99776452010633, -30.000494073203356], [44.99790490090572, -30.000494073203356], [29.998045281705117, -30.000494073203356], [14.998185662504426, -30.000494073203356], [-0.001673956696180312, -30.000494073203356], [-15.001533575896786, -30.000494073203356], [-30.001393195097478, -30.000494073203356], [-45.001252814298084, -30.000494073203356], [-60.00111243349869, -30.000494073203356], [-75.0009720526993, -30.000494073203356], [-90.0008316718999, -30.000494073203356], [-105.00069129110061, -30.000494073203356], [-120.00055091030121, -30.000494073203356], [-135.00041052950183, -30.000494073203356], [-150.0002701487025, -30.000494073203356], [-165.0001297679031, -30.000494073203356], [-179.9999893871037, -30.000494073203356]] }, "properties": { "degrees": 30, "direction": "S", "display": "30 S", "scalerank": 3, "dd": -30 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99994876537818, -45.00035369240405], [179.99664147371135, -45.00035369240405], [164.99678185451074, -45.00035369240405], [149.99692223531014, -45.00035369240405], [134.99706261610953, -45.00035369240405], [119.99720299690892, -45.00035369240405], [104.9973433777082, -45.00035369240405], [89.99748375850754, -45.00035369240405], [74.99762413930694, -45.00035369240405], [59.99776452010633, -45.00035369240405], [44.99790490090572, -45.00035369240405], [29.998045281705117, -45.00035369240405], [14.998185662504426, -45.00035369240405], [-0.001673956696180312, -45.00035369240405], [-15.001533575896786, -45.00035369240405], [-30.001393195097478, -45.00035369240405], [-45.001252814298084, -45.00035369240405], [-60.00111243349869, -45.00035369240405], [-75.0009720526993, -45.00035369240405], [-90.0008316718999, -45.00035369240405], [-105.00069129110061, -45.00035369240405], [-120.00055091030121, -45.00035369240405], [-135.00041052950183, -45.00035369240405], [-150.0002701487025, -45.00035369240405], [-165.0001297679031, -45.00035369240405], [-179.9999893871037, -45.00035369240405]] }, "properties": { "degrees": 45, "direction": "S", "display": "45 S", "scalerank": 3, "dd": -45 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99994876537818, -60.00026498803694], [179.99664147371135, -60.00026498803694], [164.99678185451074, -60.00026498803694], [149.99692223531014, -60.00026498803694], [134.99706261610953, -60.00026498803694], [119.99720299690892, -60.00026498803694], [104.9973433777082, -60.00026498803694], [89.99748375850754, -60.00026498803694], [74.99762413930694, -60.00026498803694], [59.99776452010633, -60.00026498803694], [44.99790490090572, -60.00026498803694], [29.998045281705117, -60.00026498803694], [14.998185662504426, -60.00026498803694], [-0.001673956696180312, -60.00026498803694], [-15.001533575896786, -60.00026498803694], [-30.001393195097478, -60.00026498803694], [-45.001252814298084, -60.00026498803694], [-60.00111243349869, -60.00026498803694], [-75.0009720526993, -60.00026498803694], [-90.0008316718999, -60.00026498803694], [-105.00069129110061, -60.00026498803694], [-120.00055091030121, -60.00026498803694], [-135.00041052950183, -60.00026498803694], [-150.0002701487025, -60.00026498803694], [-165.0001297679031, -60.00026498803694], [-179.9999893871037, -60.00026498803694]] }, "properties": { "degrees": 60, "direction": "S", "display": "60 S", "scalerank": 3, "dd": -60 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[180.00000000000006, -75.00002125437297], [179.99664147371135, -75.00002125437297], [164.99678185451074, -75.00002125437297], [149.99692223531014, -75.00002125437297], [134.99706261610953, -75.00002125437297], [119.99720299690892, -75.00002125437297], [104.9973433777082, -75.00002125437297], [89.99748375850754, -75.00002125437297], [74.99762413930694, -75.00002125437297], [59.99776452010633, -75.00002125437297], [44.99790490090572, -75.00002125437297], [29.998045281705117, -75.00002125437297], [14.998185662504426, -75.00002125437297], [-0.001673956696180312, -75.00002125437297], [-15.001533575896786, -75.00002125437297], [-30.001393195097478, -75.00002125437297], [-45.001252814298084, -75.00002125437297], [-60.00111243349869, -75.00002125437297], [-75.0009720526993, -75.00002125437297], [-90.0008316718999, -75.00002125437297], [-105.00069129110061, -75.00002125437297], [-120.00055091030121, -75.00002125437297], [-135.00041052950183, -75.00002125437297], [-150.0002701487025, -75.00002125437297], [-165.0001297679031, -75.00002125437297], [-179.9999893871037, -75.00002125437297]] }, "properties": { "degrees": 75, "direction": "S", "display": "75 S", "scalerank": 3, "dd": -75 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[179.99664147371135, -89.99993255000595], [179.99664147371135, -75.00002125437297], [179.99664147371135, -60.00026498803694], [179.99664147371135, -45.00035369240405], [179.99664147371135, -30.000494073203356], [179.99664147371135, -15.000582777570457], [179.99664147371135, -0.0008265112344219006], [179.99664147371135, 14.999084784398462], [179.99664147371135, 29.99889272716686], [179.99664147371135, 44.99875234636747], [179.99664147371135, 59.998663642000366], [179.99664147371135, 74.99847158476868], [179.99664147371135, 90]] }, "properties": { "degrees": 180, "direction": "E", "display": "180 E", "scalerank": 3, "dd": 180 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[164.99678185451074, -89.99993255000595], [164.99678185451074, -75.00002125437297], [164.99678185451074, -60.00026498803694], [164.99678185451074, -45.00035369240405], [164.99678185451074, -30.000494073203356], [164.99678185451074, -15.000582777570457], [164.99678185451074, -0.0008265112344219006], [164.99678185451074, 14.999084784398462], [164.99678185451074, 29.99889272716686], [164.99678185451074, 44.99875234636747], [164.99678185451074, 59.998663642000366], [164.99678185451074, 74.99847158476868], [164.99678185451086, 90]] }, "properties": { "degrees": 165, "direction": "E", "display": "165 E", "scalerank": 3, "dd": 165 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[149.99692223531014, -89.99993255000595], [149.99692223531014, -75.00002125437297], [149.99692223531014, -60.00026498803694], [149.99692223531014, -45.00035369240405], [149.99692223531014, -30.000494073203356], [149.99692223531014, -15.000582777570457], [149.99692223531014, -0.0008265112344219006], [149.99692223531014, 14.999084784398462], [149.99692223531014, 29.99889272716686], [149.99692223531014, 44.99875234636747], [149.99692223531014, 59.998663642000366], [149.99692223531014, 74.99847158476868], [149.99692223531014, 90]] }, "properties": { "degrees": 150, "direction": "E", "display": "150 E", "scalerank": 3, "dd": 150 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[134.99706261610953, -89.99993255000595], [134.99706261610953, -75.00002125437297], [134.99706261610953, -60.00026498803694], [134.99706261610953, -45.00035369240405], [134.99706261610953, -30.000494073203356], [134.99706261610953, -15.000582777570457], [134.99706261610953, -0.0008265112344219006], [134.99706261610953, 14.999084784398462], [134.99706261610953, 29.99889272716686], [134.99706261610953, 44.99875234636747], [134.99706261610953, 59.998663642000366], [134.99706261610953, 74.99847158476868], [134.99706261610964, 90]] }, "properties": { "degrees": 135, "direction": "E", "display": "135 E", "scalerank": 3, "dd": 135 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[119.99720299690892, -89.99993255000595], [119.99720299690892, -75.00002125437297], [119.99720299690892, -60.00026498803694], [119.99720299690892, -45.00035369240405], [119.99720299690892, -30.000494073203356], [119.99720299690892, -15.000582777570457], [119.99720299690892, -0.0008265112344219006], [119.99720299690892, 14.999084784398462], [119.99720299690892, 29.99889272716686], [119.99720299690892, 44.99875234636747], [119.99720299690892, 59.998663642000366], [119.99720299690892, 74.99847158476868], [119.99720299690892, 90]] }, "properties": { "degrees": 120, "direction": "E", "display": "120 E", "scalerank": 3, "dd": 120 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[104.9973433777082, -89.99993255000595], [104.9973433777082, -75.00002125437297], [104.9973433777082, -60.00026498803694], [104.9973433777082, -45.00035369240405], [104.9973433777082, -30.000494073203356], [104.9973433777082, -15.000582777570457], [104.9973433777082, -0.0008265112344219006], [104.9973433777082, 14.999084784398462], [104.9973433777082, 29.99889272716686], [104.9973433777082, 44.99875234636747], [104.9973433777082, 59.998663642000366], [104.9973433777082, 74.99847158476868], [104.9973433777082, 90]] }, "properties": { "degrees": 105, "direction": "E", "display": "105 E", "scalerank": 3, "dd": 105 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[89.99748375850754, -89.99993255000595], [89.99748375850754, -75.00002125437297], [89.99748375850754, -60.00026498803694], [89.99748375850754, -45.00035369240405], [89.99748375850754, -30.000494073203356], [89.99748375850754, -15.000582777570457], [89.99748375850754, -0.0008265112344219006], [89.99748375850754, 14.999084784398462], [89.99748375850754, 29.99889272716686], [89.99748375850754, 44.99875234636747], [89.99748375850754, 59.998663642000366], [89.99748375850754, 74.99847158476868], [89.99748375850754, 90]] }, "properties": { "degrees": 90, "direction": "E", "display": "90 E", "scalerank": 3, "dd": 90 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[74.99762413930694, -89.99993255000595], [74.99762413930694, -75.00002125437297], [74.99762413930694, -60.00026498803694], [74.99762413930694, -45.00035369240405], [74.99762413930694, -30.000494073203356], [74.99762413930694, -15.000582777570457], [74.99762413930694, -0.0008265112344219006], [74.99762413930694, 14.999084784398462], [74.99762413930694, 29.99889272716686], [74.99762413930694, 44.99875234636747], [74.99762413930694, 59.998663642000366], [74.99762413930694, 74.99847158476868], [74.99762413930694, 90]] }, "properties": { "degrees": 75, "direction": "E", "display": "75 E", "scalerank": 3, "dd": 75 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[59.99776452010633, -89.99993255000595], [59.99776452010633, -75.00002125437297], [59.99776452010633, -60.00026498803694], [59.99776452010633, -45.00035369240405], [59.99776452010633, -30.000494073203356], [59.99776452010633, -15.000582777570457], [59.99776452010633, -0.0008265112344219006], [59.99776452010633, 14.999084784398462], [59.99776452010633, 29.99889272716686], [59.99776452010633, 44.99875234636747], [59.99776452010633, 59.998663642000366], [59.99776452010633, 74.99847158476868], [59.99776452010633, 90]] }, "properties": { "degrees": 60, "direction": "E", "display": "60 E", "scalerank": 3, "dd": 60 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[44.99790490090572, -89.99993255000595], [44.99790490090572, -75.00002125437297], [44.99790490090572, -60.00026498803694], [44.99790490090572, -45.00035369240405], [44.99790490090572, -30.000494073203356], [44.99790490090572, -15.000582777570457], [44.99790490090572, -0.0008265112344219006], [44.99790490090572, 14.999084784398462], [44.99790490090572, 29.99889272716686], [44.99790490090572, 44.99875234636747], [44.99790490090572, 59.998663642000366], [44.99790490090572, 74.99847158476868], [44.99790490090572, 90]] }, "properties": { "degrees": 45, "direction": "E", "display": "45 E", "scalerank": 3, "dd": 45 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[29.998045281705117, -89.99993255000595], [29.998045281705117, -75.00002125437297], [29.998045281705117, -60.00026498803694], [29.998045281705117, -45.00035369240405], [29.998045281705117, -30.000494073203356], [29.998045281705117, -15.000582777570457], [29.998045281705117, -0.0008265112344219006], [29.998045281705117, 14.999084784398462], [29.998045281705117, 29.99889272716686], [29.998045281705117, 44.99875234636747], [29.998045281705117, 59.998663642000366], [29.998045281705117, 74.99847158476868], [29.998045281705117, 90]] }, "properties": { "degrees": 30, "direction": "E", "display": "30 E", "scalerank": 3, "dd": 30 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[14.998185662504426, -89.99993255000595], [14.998185662504426, -75.00002125437297], [14.998185662504426, -60.00026498803694], [14.998185662504426, -45.00035369240405], [14.998185662504426, -30.000494073203356], [14.998185662504426, -15.000582777570457], [14.998185662504426, -0.0008265112344219006], [14.998185662504426, 14.999084784398462], [14.998185662504426, 29.99889272716686], [14.998185662504426, 44.99875234636747], [14.998185662504426, 59.998663642000366], [14.998185662504426, 74.99847158476868], [14.998185662504426, 90]] }, "properties": { "degrees": 15, "direction": "E", "display": "15 E", "scalerank": 3, "dd": 15 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-0.001673956696180312, -89.99993255000595], [-0.001673956696180312, -75.00002125437297], [-0.001673956696180312, -60.00026498803694], [-0.001673956696180312, -45.00035369240405], [-0.001673956696180312, -30.000494073203356], [-0.001673956696180312, -15.000582777570457], [-0.001673956696180312, -0.0008265112344219006], [-0.001673956696180312, 14.999084784398462], [-0.001673956696180312, 29.99889272716686], [-0.001673956696180312, 44.99875234636747], [-0.001673956696180312, 59.998663642000366], [-0.001673956696180312, 74.99847158476868], [-0.001673956696180312, 90]] }, "properties": { "degrees": 0, "direction": "", "display": "0", "scalerank": 3, "dd": 0 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-15.001533575896786, -89.99993255000595], [-15.001533575896786, -75.00002125437297], [-15.001533575896786, -60.00026498803694], [-15.001533575896786, -45.00035369240405], [-15.001533575896786, -30.000494073203356], [-15.001533575896786, -15.000582777570457], [-15.001533575896786, -0.0008265112344219006], [-15.001533575896786, 14.999084784398462], [-15.001533575896786, 29.99889272716686], [-15.001533575896786, 44.99875234636747], [-15.001533575896786, 59.998663642000366], [-15.001533575896786, 74.99847158476868], [-15.001533575896786, 90]] }, "properties": { "degrees": 15, "direction": "W", "display": "15 W", "scalerank": 3, "dd": -15 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-30.001393195097478, -89.99993255000595], [-30.001393195097478, -75.00002125437297], [-30.001393195097478, -60.00026498803694], [-30.001393195097478, -45.00035369240405], [-30.001393195097478, -30.000494073203356], [-30.001393195097478, -15.000582777570457], [-30.001393195097478, -0.0008265112344219006], [-30.001393195097478, 14.999084784398462], [-30.001393195097478, 29.99889272716686], [-30.001393195097478, 44.99875234636747], [-30.001393195097478, 59.998663642000366], [-30.001393195097478, 74.99847158476868], [-30.001393195097478, 90]] }, "properties": { "degrees": 30, "direction": "W", "display": "30 W", "scalerank": 3, "dd": -30 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-45.001252814298084, -89.99993255000595], [-45.001252814298084, -75.00002125437297], [-45.001252814298084, -60.00026498803694], [-45.001252814298084, -45.00035369240405], [-45.001252814298084, -30.000494073203356], [-45.001252814298084, -15.000582777570457], [-45.001252814298084, -0.0008265112344219006], [-45.001252814298084, 14.999084784398462], [-45.001252814298084, 29.99889272716686], [-45.001252814298084, 44.99875234636747], [-45.001252814298084, 59.998663642000366], [-45.001252814298084, 74.99847158476868], [-45.001252814298084, 90]] }, "properties": { "degrees": 45, "direction": "W", "display": "45 W", "scalerank": 3, "dd": -45 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-60.00111243349869, -89.99993255000595], [-60.00111243349869, -75.00002125437297], [-60.00111243349869, -60.00026498803694], [-60.00111243349869, -45.00035369240405], [-60.00111243349869, -30.000494073203356], [-60.00111243349869, -15.000582777570457], [-60.00111243349869, -0.0008265112344219006], [-60.00111243349869, 14.999084784398462], [-60.00111243349869, 29.99889272716686], [-60.00111243349869, 44.99875234636747], [-60.00111243349869, 59.998663642000366], [-60.00111243349869, 74.99847158476868], [-60.00111243349869, 90]] }, "properties": { "degrees": 60, "direction": "W", "display": "60 W", "scalerank": 3, "dd": -60 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-75.0009720526993, -89.99993255000595], [-75.0009720526993, -75.00002125437297], [-75.0009720526993, -60.00026498803694], [-75.0009720526993, -45.00035369240405], [-75.0009720526993, -30.000494073203356], [-75.0009720526993, -15.000582777570457], [-75.0009720526993, -0.0008265112344219006], [-75.0009720526993, 14.999084784398462], [-75.0009720526993, 29.99889272716686], [-75.0009720526993, 44.99875234636747], [-75.0009720526993, 59.998663642000366], [-75.0009720526993, 74.99847158476868], [-75.0009720526993, 90]] }, "properties": { "degrees": 75, "direction": "W", "display": "75 W", "scalerank": 3, "dd": -75 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-90.0008316718999, -89.99993255000595], [-90.0008316718999, -75.00002125437297], [-90.0008316718999, -60.00026498803694], [-90.0008316718999, -45.00035369240405], [-90.0008316718999, -30.000494073203356], [-90.0008316718999, -15.000582777570457], [-90.0008316718999, -0.0008265112344219006], [-90.0008316718999, 14.999084784398462], [-90.0008316718999, 29.99889272716686], [-90.0008316718999, 44.99875234636747], [-90.0008316718999, 59.998663642000366], [-90.0008316718999, 74.99847158476868], [-90.0008316718999, 90]] }, "properties": { "degrees": 90, "direction": "W", "display": "90 W", "scalerank": 3, "dd": -90 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-105.00069129110061, -89.99993255000595], [-105.00069129110061, -75.00002125437297], [-105.00069129110061, -60.00026498803694], [-105.00069129110061, -45.00035369240405], [-105.00069129110061, -30.000494073203356], [-105.00069129110061, -15.000582777570457], [-105.00069129110061, -0.0008265112344219006], [-105.00069129110061, 14.999084784398462], [-105.00069129110061, 29.99889272716686], [-105.00069129110061, 44.99875234636747], [-105.00069129110061, 59.998663642000366], [-105.00069129110061, 74.99847158476868], [-105.00069129110061, 90]] }, "properties": { "degrees": 105, "direction": "W", "display": "105 W", "scalerank": 3, "dd": -10 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-120.00055091030121, -89.99993255000595], [-120.00055091030121, -75.00002125437297], [-120.00055091030121, -60.00026498803694], [-120.00055091030121, -45.00035369240405], [-120.00055091030121, -30.000494073203356], [-120.00055091030121, -15.000582777570457], [-120.00055091030121, -0.0008265112344219006], [-120.00055091030121, 14.999084784398462], [-120.00055091030121, 29.99889272716686], [-120.00055091030121, 44.99875234636747], [-120.00055091030121, 59.998663642000366], [-120.00055091030121, 74.99847158476868], [-120.00055091030121, 90]] }, "properties": { "degrees": 120, "direction": "W", "display": "120 W", "scalerank": 3, "dd": -12 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-135.00041052950183, -89.99993255000595], [-135.00041052950183, -75.00002125437297], [-135.00041052950183, -60.00026498803694], [-135.00041052950183, -45.00035369240405], [-135.00041052950183, -30.000494073203356], [-135.00041052950183, -15.000582777570457], [-135.00041052950183, -0.0008265112344219006], [-135.00041052950183, 14.999084784398462], [-135.00041052950183, 29.99889272716686], [-135.00041052950183, 44.99875234636747], [-135.00041052950183, 59.998663642000366], [-135.00041052950183, 74.99847158476868], [-135.00041052950183, 90]] }, "properties": { "degrees": 135, "direction": "W", "display": "135 W", "scalerank": 3, "dd": -13 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-150.0002701487025, -89.99993255000595], [-150.0002701487025, -75.00002125437297], [-150.0002701487025, -60.00026498803694], [-150.0002701487025, -45.00035369240405], [-150.0002701487025, -30.000494073203356], [-150.0002701487025, -15.000582777570457], [-150.0002701487025, -0.0008265112344219006], [-150.0002701487025, 14.999084784398462], [-150.0002701487025, 29.99889272716686], [-150.0002701487025, 44.99875234636747], [-150.0002701487025, 59.998663642000366], [-150.0002701487025, 74.99847158476868], [-150.0002701487025, 90]] }, "properties": { "degrees": 150, "direction": "W", "display": "150 W", "scalerank": 3, "dd": -15 } },
                { "type": "Feature", "geometry": { "type": "LineString", "coordinates": [[-165.0001297679031, -89.99993255000595], [-165.0001297679031, -75.00002125437297], [-165.0001297679031, -60.00026498803694], [-165.0001297679031, -45.00035369240405], [-165.0001297679031, -30.000494073203356], [-165.0001297679031, -15.000582777570457], [-165.0001297679031, -0.0008265112344219006], [-165.0001297679031, 14.999084784398462], [-165.0001297679031, 29.99889272716686], [-165.0001297679031, 44.99875234636747], [-165.0001297679031, 59.998663642000366], [-165.0001297679031, 74.99847158476868], [-165.0001297679031, 90]] }, "properties": { "degrees": 165, "direction": "W", "display": "165 W", "scalerank": 3, "dd": -16 } }
            ]
        }
        // mapboxgl.accessToken = 'pk.eyJ1Ijoic2VyaHV6IiwiYSI6ImNseXpvc3RlczJpbnIya3FscDU2aHc5d3EifQ.FHtPjde_lqensSHZxqthgw';
        mapboxgl.accessToken = 'pk.eyJ1IjoidGhlZmxvd25vZGVyIiwiYSI6ImNsZm4xYmljZjBjcGMzeW5wczZjamN4ZTMifQ.19gBzrpz8b1Hb3i7z8rHAA';

        const map = new mapboxgl.Map({
            container: 'map',
            style: {
                "version": 8,
                "name": "Test-copy",
                "center": [-50.74917821009399, 19.81533067897695],
                "zoom": 2.1851050312609352,
                "bearing": 0,
                "pitch": 0,
                "lights": [],
                "terrain": null,
                "fog": { "color": "hsl(223, 0%, 0%)" },
                "imports": [],
                "sources": {
                    "composite": {
                        "url": "mapbox://mapbox.country-boundaries-v1",
                        "type": "vector"
                    }
                },
                "glyphs": "mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
                "projection": { "name": "globe" },
                "layers": [
                    {
                        "id": "background",
                        "type": "background",
                        "layout": {},
                        "paint": { "background-color": "#0a8ae6" }
                    },
                    {
                        "id": "country-boundaries copy",
                        "type": "fill",
                        "source": "composite",
                        "source-layer": "country_boundaries",
                        "layout": {},
                        "paint": { "fill-translate": [4, 2] }
                    },
                    {
                        "id": "country-boundaries",
                        "type": "fill",
                        "source": "composite",
                        "source-layer": "country_boundaries",
                        "layout": {},
                        "paint": { "fill-color": "#1b36bf" }
                    }
                ],
            },
            center: { lng: -30.31584518491627, lat: -7.9887482354906325 },
            zoom: 2,
            projection: 'mercator'
        });


        // Define your marker data
        const markerData = [
            {
                align: "bottom-right",
                name: `MIT, Cambridge, Massachusetts:
                        <div>- J-PAL Global</div>
                        <div>- MIT J-WAFS</div>
                        <div>- MIT J-WEL</div>
                        <div>- MIT Jameel Clinic</div>
                        <div>- Jameel Observatory CREWSnet</div>

            `, coordinates: [-71.09240951238363, 42.35896932867615]
            },
            { align: "top-right", name: 'New York City, New York:<br>Jameel Arts & Health Lab', coordinates: [-74.00000563856793, 40.724678411585764] },
            {
                align: "bottom-right", name: `London, United Kingdom:
                <div>Jameel Institute</div>
                <div> CLIMAVORE x Jameel at RCA</div>
                `, coordinates: [-0.06799825376552351, 51.50881496054432]
            },
            { align: "top-left", name: 'Paris, France:<br> - J-PAL Europe', coordinates: [2.33887024861499, 48.871736664429854] },
            {
                align: "top-right", name: `Cairo, Egypt:
                    <div>- J-PAL MENA</div>
                    <div>- Egypt Impact Lab</div>
                    <div>- Jameel House</div>
                `, coordinates: [31.251933921018196, 30.066274663503993]
            },
            {
                align: "top-left", name: `Amman, Jordan:
                    <div>- Jameel C40</div>
                `, coordinates: [35.948483653410904, 31.87326059074893]
            },
            {
                align: "top-right", name: `Nairobi, Kenya:
                    <div>- Jameel Observatory for Food Security Early Action</div>
                `, coordinates: [36.858294042232124, -1.3429733852535548]
            },
            {
                align: "top-left", name: `New Delhi, India:
                    <div>J-PAL South Asia</div>
                `, coordinates: [77.19326317414409, 28.546483963642814]
            },
            {
                align: "top-left", name: `Jakarta, Indonesia:
                    <div>J-PAL Southeast Asia</div>
                `, coordinates: [106.82780564173726, -6.154590023554769]
            },

        ];

        map.on('load', function () {
            map.addSource('route', {
                'type': 'geojson',
                'data': lines
            });

            map.addLayer({
                'id': 'route',
                'type': 'line',
                'source': 'route',
                'layout': {
                    'line-join': 'round',
                    'line-cap': 'round'
                },
                'paint': {
                    'line-color': '#2b3fff',
                    'line-width': 2
                },

            }, "country-boundaries copy");

            // Add markers to the map
            markerData.forEach((marker) => {
                const el = createCustomMarker({ text: marker.name, align: marker.align });
                new mapboxgl.Marker(el, {
                    anchor: marker.align
                })
                    .setLngLat(marker.coordinates)
                    .addTo(map);
            });
        });

        function createCustomMarker({ text, align }) {
            const markerEl = document.createElement('div');
            markerEl.className = 'marker-container';
            markerEl.innerHTML = `<div class="text-container">${text}</div>`;

            // Create SVG for line and circle
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', '40');
            svg.setAttribute('height', '50');
            svg.style.overflow = 'visible';
            svg.style.position = 'absolute';

            const vline = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            vline.setAttribute('stroke', '#c876fc');
            vline.setAttribute('stroke-width', '3');

            const hline = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            hline.setAttribute('stroke', '#c876fc');
            hline.setAttribute('stroke-width', '3');


            switch (align) {
                case 'top-left':
                    vline.setAttribute('x1', '0');
                    vline.setAttribute('y1', '40');
                    vline.setAttribute('x2', '0');
                    vline.setAttribute('y2', '0');

                    hline.setAttribute('x1', '0');
                    hline.setAttribute('y1', '40');
                    hline.setAttribute('x2', '20');
                    hline.setAttribute('y2', '40');
                    svg.style.top = '0px';
                    break;

                case 'bottom-left':
                    svg.style.left = '0px';
                    vline.setAttribute('x1', '0');
                    vline.setAttribute('y1', '-40');
                    vline.setAttribute('x2', '0');
                    vline.setAttribute('y2', '0');

                    hline.setAttribute('x1', '0');
                    hline.setAttribute('y1', '-40');
                    hline.setAttribute('x2', '20');
                    hline.setAttribute('y2', '-40');
                    break;

                case 'bottom-right':
                    svg.style.right = '-40px';
                    vline.setAttribute('x1', '0');
                    vline.setAttribute('y1', '-40');
                    vline.setAttribute('x2', '0');
                    vline.setAttribute('y2', '0');

                    hline.setAttribute('x1', '0');
                    hline.setAttribute('y1', '-40');
                    hline.setAttribute('x2', '-20');
                    hline.setAttribute('y2', '-40');
                    break;

                case 'top-right':
                    svg.style.top = '0px';
                    svg.style.right = '-40px';
                    vline.setAttribute('x1', '0');
                    vline.setAttribute('y1', '40');
                    vline.setAttribute('x2', '0');
                    vline.setAttribute('y2', '0');

                    hline.setAttribute('x1', '0');
                    hline.setAttribute('y1', '40');
                    hline.setAttribute('x2', '-20');
                    hline.setAttribute('y2', '40');
                    break;
            }

            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            circle.setAttribute('cx', 0);
            circle.setAttribute('cy', 0);
            circle.setAttribute('r', '8');
            circle.setAttribute('fill', '#c876fc');

            svg.appendChild(vline);
            svg.appendChild(hline);
            svg.appendChild(circle);
            markerEl.appendChild(svg);
            return markerEl;
        }




    </script>

</body>

</html>